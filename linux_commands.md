# Linux コマンドチートシート（日本語版）

** どうやってまとめればいいのか？**
## 用語

* ルートディレクトリ：最上層のディレクトリ(「/」で表す)
* カレントディレクトリ：現在アクセスしているディレクトリ
* ホームディレクトリ：ログイン直後のカレントディレクトリ
* Linuxでは、絶対パスと相対パスを以下のように表す表現があります。
    * 絶対パス：ルートディレクトリからのパス
    * 相対パス：カレントディレクトリからのパス
        - 「 . 」：カレントディレクトリを表す  
        - 「 .. 」：１階層上のディレクトリを表す  
 
---

- Linux特殊記号
```bash
~   |  チルダ    |   ホームディレクトリを表す  
|   |  パイプ    |   出力結果を別コマンドに引き渡す  |
`   |  バッククォーテーション   |  囲まれたコマンド結果を、別コマンドの引数とする    
'   |  シングルクォーテーション |  囲まれた値を文字列とみなす
"   |  ダブルクォーテーション   |  囲まれた値を文字列とみなす(「$」「\`」「\」を例外とする)    
>   |  リダイレクト   |  処理結果を指定したファイルに書き込む(上書き)   
>>  |  リダイレクト   |  処理結果を指定したファイルに書き込む(追記)    
2>  |  リダイレクト   |  処理結果エラーメッセージを指定したファイルに書き込む(上書き)   
2>> |  リダイレクト   |  処理結果エラーメッセージを指定したファイルに書き込む(追記)    
```

## 便利な機能
- コマンド履歴         「↑」「↓」    速い/入力ミス防止   
- 入力補完             「tab」        ファイルやディレクトリの存在確認   
- 入力候補出力         「tab」x2      ファイルやディレクトリの存在確認   
- コマンド強制終了     「ctrl」+「c」   応答がしばらくない時の対応   
- コマンド履歴の検索   「ctrl」+「R」          
- 画面をクリアにする   「ctrl」+「L」   画面がスッキリ
- パスワードの打ち間違えを修正 「ctrl」+「u」

## 基本的なファイル操作

| コマンド | 使い方・オプション | 説明   |
|----------|------------|--------|
| touch    | file | 空のファイルを作成または既存のファイルの時刻を更新 |
| `cp`     | | コピーする|   
|  | file1 file2 | file1 を file2にコピー。file2はディレクトリでも可 |
|  | -r dir1 dir2 | dir1とその内容をdir2にコピー (再帰的/由来: recursive) |
|  | file1 file2` | file1をfile2にコピー。file2はディレクトリでも可 |
|  | file ../ | 上のディレクトリにコピーする |
|  | file ~ | ホームディレクトリにコピーする |
|  | dir1/file1 dir2 | ファイルを別フォルダにコピー |  
|  | dir1/file1 dir2/file2 | リネームしつつファイルを別フォルダにコピー |  
|  | file1 file2 | ファイルを別ファイル名にコピー |
|  | -p file new_file | パーミッション、タイムスタンプ等を保持してコピー(由来: permission) |
|  | -f | 確認無しで強制コピー(由来: force)  誤操作注意!|
|  | -b | コピー先がすでに存在した場合、foo~ のような名前でバックアップを取る。 |
|  | -i | コピー先にすでにファイルが存在する場合は、上書きするかどうかを聞いてくる |
|  | -l | ファイルのコピーはハードリンクにする。ディレクトリはハードリンクにはならない。|
|  | -u | コピー先にすでにコピー元よりも新しいか同じタイムスタンプのファイルがあった場合はコピーをしない |
| mv       | | ファイルまたはディレクトリを移動またはリネーム |
|  | file dir | ファイルをディレクトリに移動 |
|  | file1 dir/file2 | file1をdirディレクトリ内のfile2として移動 |
|  | file1 file2 | file1をfile2にリネーム |
| rm       | file | ファイルを削除 |
| mkdir    | | データディレクトリを作成 |
|  | (data) | データディレクトリを作成 |
|  | -p path/to/directory | 深い階層のディレクトリを一気に作成 |
| pwd      |    |現在の作業ディレクトリを表示 |
| stat     | file | ファイルとディレクトリの属性を表示 |
| wc       | file | ファイル内のバイト数、単語数、行数をカウント |
| file     | file | ファイルのタイプを識別（推測） |
| type     | cd   | cdが組み込みコマンドか外部バイナリかを確認 |
| `ls`     |     | 現在のディレクトリのファイルとフォルダを表示 |
|   | -lh file   | ファイルの権限、サイズ、所有者などを表示 |
|   | -l         | 詳細なリスト形式で表示 |
|   | -a         | 隠しファイルを含むすべてのファイルを表示 |
|   | -F         |ファイルの種類を含めて一覧表示 |
|   | -w 30      |指定した数字の横幅でファイル名表示。ここでは幅=30桁 |  
|   | -la        | 隠しファイルを含む詳細なリスト |
|   | -lah       |ディレクトリ内のすべての内容をリスト表示 |
|   | -latr      | ファイルとディレクトリを一覧表示  |
|   | dir        |ディレクトリを指定して中身を表示 |
|   | -R         |ディレクトリ内のディレクトリ内の……中身も表示  |
|   | -F         |表示時にディレクトリなら / , ファイルなら * をつける  |
|   | -t         | タイムスタンプ順で表示(由来: time) |
|   | -r         | 逆順で表示(由来: reverse) |
|   | | 最新のログファイルを探す目的でよく使う  |
|   | | 最新が一番下に来るので、ファイル数が多くても見切れない。|
|   | | 逆に、一番古いファイルを見たい場合は ls -lt  |
|   | -h         | M(メガ)、G(ギガ)などを付けてサイズを見やすくする(由来:human readable) |
|   | -ltr       | 新しいファイルが一番下に来るように表示 |
|   | |※代替としてexa というコマンドもある |
| `cd`    | | ディレクトリを変更 :ホームディレクトリに移動 |
|    |  dir |指定したディレクトリに移動 |
|    | ~ | ユーザーのホームディレクトリに移動 |
|    | .. | 親ディレクトリに移動 |
|    | ../dir | 親ディレクトリ内の指定したディレクトリに移動 |
|    | - | 直前の作業ディレクトリに切り替え |
|    | / | ルートディレクトリに移動 |
|    | /dir | 指定されたフォルダーに移動します |
| `rm`    |    | ファイル・ディレクトリを削除 |
|     | -f file  | 強制的にファイルを削除 |
|     | -r dir   | ディレクトリとその内容を再帰的に削除 |
|     | -rf dir  | ディレクトリを強制的に再帰的に削除 |


## システム情報

| コマンド | オプション | 説明   |
|----------|------------|--------|
| lshw     | | デバイス一覧、デバイス情報を出力する。一般ユーザは一部制限あり。|
|   | -class デバイス種別 | 指定デバイスの一覧を出力する |
|   | -businfo | デバイス種別一覧を出力する |
| date     |            | 日付と時刻の表示 |
| uptime   |            | システムの稼働時間を表示 |
| whoami   |            | 現在のユーザー名を表示 |
| w        |            | ログイン中のユーザーを表示 |
| cat | /proc/cpuinfo   | CPU情報の表示 |
| cat | /proc/meminfo   | メモリ情報の表示 |
| free     |           | メモリとスワップの使用状況を表示 |
|  | -h        | 人間が読みやすい形式で表示 |
| du       |           | ディレクトリ空間使用量の表示 |
|  | -sh       | 現在のディレクトリの合計サイズを人間が読みやすい形式で表示 |
|  | -h /home  | ホームディレクトリのディスク使用量を推定 |
| df       |           | ディスク使用量の表示 |
|  | -h        | 人間が読みやすい形式で表示 |
| uname    |           | カーネル情報の表示 |
|  | -a        | すべてのシステム情報を表示 |
| nproc | | システム上のCPUの論理コア数を表示 |

## プロセス管理

| コマンド |オプション| 説明 |
|----------|----------|------|
| ps   | |実行中のプロセスのスナップショットを表示 |
|   | aux | すべてのユーザーのすべてのプロセスを表示 |
| top | | 実行中のプロセスのリアルタイムビューを表示 |
|   | 1 | top コマンドを実行中に 1 を押すと、各CPUコアの使用率が表示 |
| pgrep |firefox | firefoxのプロセスIDを検索 |
| pidof |firefox | firefoxのプロセスIDを検索 |
| kill | 6732 | PID 6732のプロセスを終了 |
|   | killall proc | 'proc'という名前のすべてのプロセスを終了 |
|   | sudo kill -9 プロセスIDまたは名前 | 過度に多くのシステム リソースを消費する不正な動作をしている |
|   |   |プロセスがある場合はプロセス ID (PID) または名前を知っている必要があります。|
|   | ps aux \| grep -i “目的のプログラムの名前”   | ps または top コマンドを使用して、|
|   |   |PID または正確なプロセス名を取得できる。 |
| pkill   | firefox | firefoxプロセスを終了 |
| bg |    |サスペンドされたジョブをバックグラウンドで再開 |
| fg |    |サスペンドされたジョブをフォアグラウンドに移動 |
|    | n  | ジョブnをフォアグラウンドに移動 |
| renice | 12 PID | 指定したPIDのプロセスの優先度を変更 |
| pstree | | 実行中のプロセスのツリーを表示 |
| taskset| | プロセスのCPU affinity (CPU親和性) を設定・取得するためのコマンド |
|    |    | taskset [オプション] [マスク CPUリスト] [コマンド [引数...]  |
|    | -c 0,1 my_program | CPUコア0と1で my_program を実行 |
|    | -p 12345 | プロセスID 12345 のCPU affinity を表示 |

## ディスク管理

| コマンド | 説明 |
|----------|------|
| df -h | ファイルシステムのディスク空間使用量をレポート |
| du -h /home | ホームディレクトリのディスク使用量を推定 |
| fdisk -l | ディスク上の利用可能なパーティションをリスト表示 |
| cfdisk | パーティションを作成 |
| lsblk | ブロックデバイスをリスト表示 |
| mount /dev/sda /mnt | /dev/sdaパーティションを/mntディレクトリにマウント |
| umount /mnt | /mntディレクトリにマウントされたパーティションをアンマウント |
| findmnt | マウントされているすべてのファイルシステムを表示 |
| fsck /dev/sda | ディスクパーティションのエラーをチェック |

## ユーザー管理

| コマンド | 説明 |
|----------|------|
| id | ユーザーのUID、GID、グループを表示 |
| whoami | 現在ログインしているユーザーを表示 |
| finger traw | trawユーザーに関する情報を表示 |
| useradd -u 1002 traw | 特定のUIDで新しいユーザーtrawを作成 |
| userdel traw | trawという名前のユーザーアカウントを削除 |
| chfn traw | ユーザーの個人情報を変更 |
| usermod -G sudo traw | trawユーザーをsudoグループに追加 |
| gpasswd -d traw sudo | sudoグループからtrawユーザーを削除 |
| passwd | パスワードを変更 |
| passwd traw | trawユーザーのパスワードを変更 |
| chsh -s /bin/zsh | デフォルトシェルをzshに変更 |
| su james | jamesユーザーに切り替え |

自分自身のLinuxパスワードの変更ですが、CUI環境でpasswdとコマンドを打つだけです。  
・rootユーザーのパスワードの変更  
```bash
$ su -  
パスワード:  
passwd  
新しいUNIXパスワードを入力してください:  
新しいUNIX パスワードを再入力してください:  
```
・他の人のLinuxパスワードを変更させる方法
例えば、mamaというLinuxユーザー名のパスワードを変更したい場合  
```bash
passwd mama  
新しいUNIXパスワードを入力してください:  
新しいUNIX パスワードを再入力してください:  
```

### ユーザー/グループ管理

| コマンド | 説明 |
|----------|------|
| groups | ユーザーのグループメンバーシップを表示 |
| groupadd devops | devopsという新しいグループを作成 |
| groupdel devops | devopsグループを削除 |
| groupmod -n sysops sys | sysグループ名をsysopsに変更 |


## ファイル表示

| コマンド | オプション | 説明 |
|----------|------------|------|
| cat  | | ファイルの内容表示/連結 |
|  | file.txt | テキストファイルの内容を表示 |
|  | \> file | 標準入力をファイルに書き込む |
|  | \>> file | 標準入力をファイルに追加 |
| tac  | file.txt | 逆順でテキストファイルを表示 |
| more | file.txt | 一度に1画面ずつ大きなテキストファイルを表示 |
| less | file.txt | moreの機能拡張版でファイルを表示 |
| head | -n 5 | テキストファイルの最初の5行を表示 |
| tail | | ファイルの末尾を表示 |
|  | tail file | ファイルの最後の10行を表示 |
|  | -n 5 | テキストファイルの最後の5行を表示 |
|  | -f | リアルタイムで新しい行を表示する |
|  | -f file | ファイルの成長に合わせて内容を表示 |
| nl   | file | 行番号付きでファイルを表示 |
| strings | file | バイナリファイルに埋め込まれたテキストを表示 |
| ln   | シンボリックリンクの作成 |
|  | -s file link | fileへのシンボリックリンクを作成 |

## ファイル権限

| コマンド |オプション| 説明 |
|----------|----------|------|
| chmod  | | ファイル権限の変更 |
|   | +x | ファイルに実行権限を設定 |
|   | u+s | ファイルにSUID権限を設定 |
|   | u+x | そのファイルを『所有ユーザー』が実行できるようにする |
|   | g+w | そのファイルを『所有グループ』が書き換えられるようにする |
|   | o+r | そのファイルを『その他の人』が読めるようにする |
|   | u-r | そのファイルを『所有ユーザー』が読めないようにする |
|   | g-x | そのファイルを『所有グループ』が実行出来ないようにする |
|   | o-w | そのファイルを『その他の人』が書き込めないようにする |
|   | g+s dir | ディレクトリにSGID権限を設定 |
|   | +t dir | ディレクトリにスティッキービット権限を設定 |
|   | 644 script.sh | script.shの権限を所有者が読み書き可能、グループとその他が読み取り専用に設定 |
|   | 755 file | 所有者に読み書き実行、グループとその他に読み取りと実行の権限を与える |
|   | newuser file | fileの所有者をnewuserに変更 |
|   | o-rw mydir -R |ディレクトリ(mydir)とそれ以下のファイルやディレクトリすべてに設定 |
| (応用) | find dir1 -type f \| grep sh$ \| xargs chmod 755 | 一括変更 |
| chown  | | ファイルの所有者変更 |
|   | user:group file | ファイルの所有者とグループを変更 |
| umask | 022 | 新しく作成されたファイルとディレクトリのデフォルト権限を644と755に設定 |
| chgrp | devops file.txt | file.txtのグループ所有者をdevopsに変更 |

ファイル システム オブジェクトのアクセス権を変更します。  
指定されたファイルまたはディレクトリのシステム セキュリティ権限を変更します
- 所有者に対する権限 , 所有グループに対する権限 , その他に対する権限  

### 数字での指定

| 数字 | 意味 |
| -------- | -------- |
|    0 | 権限なし |
|    1 | 実行権限 |
|    2 | 書き込み権限 |
|    4 | 読み込み権限 |

### 記号での指定

| 記号 | 意味 |
| -------- | -------- |
|  u  | 所有者の権限 |
|  g  | グループの権限 |
|  o  | その他のユーザーの権限 |
|  a  | すべてのユーザー(u+g+o)の権限 |
|  +  | 後に記述した権限を付加する |
|  -  | 後に記述した権限を削除する |
|  =  | 後に記述した権限にする |
|  r  | 読み込み権限 |
|  w  | 書き込み権限 |
|  x  | 実行権限 |



hoge.shというファイルに対して権限を設定するサンプルを示します。  
それから ディレクトリ以下の全ファイルの権限をまるっと設定するには -R パラメータを指定します。
```bash
# すべてのユーザーに全権限を設定する
chmod a=rwx hoge.sh

# 所有者に実行権限を追加する
chmod u+x hoge.sh

# その他のユーザーから書き込みと読み込み権限を削除する
chmod o-rw hoge.sh

# .shの拡張子を持つファイルすべての権限を設定
chmod a=rwx *.sh
```
既存の権限に対して追加や削除ができるので、数字で指定するより柔軟に設定できるのが特徴です。ファイルやディレクトリの指定にはワイルドカード(*)も使えます。  

|Binary | Octal | String Representation | Permissions |
| ----- | ----- | :------: | ------ |
| 000 |	0 (000) | --- | No Permission |
| 001 |	1 (001) | --x |	Execute |
| 010 |	2 (020) | -w- |	Write |
| 011 |	3 (021) | -wx | Write + Execute |
| 100 |	4 (400) | r-- | Read |
| 101 |	5 (401) | r-x | Read + Execute |
| 110 |	6 (420) | rw- | Read + Write |
| 111 |	7 (421) | rwx | Read + Write + Execute1 |


## プリントテキスト

| コマンド |オプション| 説明 |
|----------|----------|------|
| echo "Hello World" | 標準出力に"Hello World"を表示 |
| printf "%-5d" 42 | 標準出力にフォーマットされたテキストを表示 |
| yes "Hello World" | 標準出力に繰り返しテキストを表示 |
| seq 1 5 | 1から5までの数字のシーケンスを表示 |
| clear | 端末画面をクリア |

## ファイル検索

| コマンド |オプション| 説明 |
|----------|----------|------|
| locate file | ファイルとディレクトリを検索 |
| which cd | cdバイナリの場所を検索 |
| whereis ls | lsのバイナリ、ソース、マニュアルファイルを検索 |
| find /data -name "hello.txt" | /dataディレクトリ内で"hello.txt"を検索 |
|  | / -type d -empty -delete | 空のディレクトリを削除 |
|  | /home/linuxopsys/ -type f -size +45000k -exec ls -l {} \; \| awk '{ print $9 }' \| xargs rm -i >/ dev/null | スペースを取りすぎているファイルを見つけ、47000kを超えるファイルが削除されます |


・現在の作業ディレクトリ内の特定のファイルを名前で検索:    
$ find . -name "log.txt"  
現在のディレクトリで log.txt という名前のすべてのファイルが検索されます。  

・特定のファイル拡張子を検索:  
$ find /home/linuxopsys/ -name " *. sh"  
/home/linuxopsys/ ディレクトリにあるすべての bash スクリプト ファイルが検出されます。  

・大文字と小文字を区別せずに名前でファイルを検索:  
$ find /home/linuxopsys -iname "log.txt"  

・ディレクトリのみを検索:  
$ find /home/linuxopsys/ -name "lnux" -type d  
linux という名前のすべてのディレクトリが検索されます  

・複数のディレクトリでファイルを検索する
$ find /home/linuxopsys linux/ -name "linux.txt" -type f

・すべてのディレクトリから、拡張子が異なる複数のファイルを検索します。
$ find . -type f ( -name ".py" -o -iname ".png" -o -iname ".jpg" -o -name ".php" -o -iname "*.txt" )

※  -type f - ファイルのみを検索します  
※ \( and  \)` - すべての引数に適用するには必要です  
※ -o - 論理 OR 演算子  
※ -iname --name と同様ですが、一致では大文字と小文字が区別されません  

・特定のテキストを含むファイルを検索  
$ find / -type f -exec grep -il "linux" {} \;  
linux という単語を含むすべてのファイルを探す

-i - grep に大文字と小文字を区別しないように指示します
-l - 指定した検索文字列を含むファイルのみを一覧表示するように grep に指示します。

・すべての空のディレクトリを検索:  
$ find /home/linuxopsys -type d -empty  

・すべての隠しファイルを見つける  
$ find /home/linuxopsys/ -type f -name ".*"  

・特定のユーザーのファイルを検索  
$ find /home/linuxopsys -user linuxopsys -name "linux.txt"

・特定のグループのファイルを検索  
$ find /home/linuxopsys -group linuxopsys -name "linux.txt"  

・特定のユーザーによる読み取り可能、書き込み可能、または実行可能ファイルの検索  
$ find /home/linuxopsys -type f -readable -user linuxopsys  
ユーザーlinuxopsysが読み取り可能なすべてのファイルが見つかります  

・検索一致の否定  
-not オプションを使用すると、一致の検索を無効にすることができます。  
これは、ユーザー linuxopsys が実行できないすべてのファイルを検索する例です。

$ find /home/linuxopsys -type f -not -executable -user linuxopsys  


## 履歴

| コマンド | 説明 |
|----------|------|
| sudo !! | 直前のコマンドをsudoで実行 |
| ctrl-r | コマンド履歴を検索 |
| history | コマンド履歴を表示 |
| !$ | 直前のコマンドの最後の引数 |
| !50 | 履歴の50番目のコマンドを実行 |

## セキュアシェル（SSH）・ファイル転送

| コマンド |オプション| 説明 |
|----------|----------|------|
| ssh | traw@10.1.3.1 | 10.1.3.1にtrawとしてリモートログイン |
| ssh-agent | -t 1sa | SSHキーペアを生成 |
| ssh-copy-id | | SSHパブリックキーをリモートホストにコピー |
| sshpass | | 非対話的にSSHパスワード認証ツール |
| ssh | user@host | 指定したホストにユーザーとして接続 |
| ssh | -p port user@host | 指定したポートを使用して接続 |
| scp | | SSH 経由でファイルをリモート コンピュータに転送できます。|
|     | | scp file  user@ip : path |
|  | scp test.txt root@192.168.1.201:/root/ |  |
|  | file.txt user@host:/remote/dir/ | file.txtをリモートホストの指定されたディレクトリにコピー |
| rsync | | rsyncはほぼ同じことを行いますが、デルタ比較アルゴリズムとファイルをより高速に転送するためのいくつかの最適化が追加|
|     | | rsync file user@ip:path |
|  | -a /ubuntu /backup/ | ソースディレクトリから宛先ディレクトリに属性を保持してコンテンツを同期 |
|  | -a /var/www/web/ user@host:/data/backup/ | ローカルディレクトリをリモートディレクトリに属性を保持して同期 |
|  | test.txt root@192.168.1.201:/root/ | ローカルマシンにある test.txt というファイルを、IPアドレス 192.168.1.201 のリモートサーバーの /root/ ディレクトリに転送 |
|  | test.txt root@192.168.1.201:/root/ rsync -auzr /home/pat/Documents/* /home/pat/backups/Documents/ | |
|  | -auzr /home/pat/Documents/* /home/pat/backups/Documents/ | ローカルマシン内の /home/pat/Documents/ ディレクトリにあるすべてのファイル（サブディレクトリも含む）を、/home/pat/backups/Documents/ ディレクトリにバックアップ |

## ネットワーキング

| コマンド | オプション | 説明 |
|----------|------------|------|
| ping     | | ホストへの接続テスト |
|    | sysxplore.com | sysxplore.comにICMPパケットを送信 |
|    | 192.168.1.1 | 192.168.1.1にICMPパケットを送信 |
| ip       | | |
|    | a | すべてのネットワークインターフェース情報を表示 |
| ifup     | | 指定されたインターフェイスを有効にします |
|    | sudo ifup eth0 | eth0 を有効にする |
| ifdown     | | 指定されたインターフェイスを有効にします |
|    | sudo ifdown wlan0 | wifi を無効にする |
| ifconfig | | ネットワークインターフェース設定を表示 |
| whois    | | ドメイン情報の取得 |
|    | sysxplore.com | ドメインの登録情報を表示 |
| route    | | ルーティングテーブルを表示 |
| ss       | | ネットワークソケットに関する情報を表示 |
| netstat  | | ネットワーク情報と統計を表示 |
| dig      | |DNSルックアップ |
|    | sysxplore.com | ドメインのDNS情報をクエリ |
| wget     | | ファイルのダウンロード |
|    | url | 指定されたURLからファイルをダウンロード |
|    | -c url | 中断されたダウンロードを再開 |
| curl | |データ転送 |
|    | sysxplore.com | sysxplore.comのホームページを取得 |
|    | -o file url | URLのコンテンツをファイルに保存 |

## 圧縮/アーカイブ

| コマンド | オプション | 説明 |
|----------|------------|------|
| tar | |ファイルのアーカイブと解凍 |
|  |-cf backup.tar /home | /homeディレクトリのtarアーカイブを作成 |
|  |-c  | アーカイブを作成する   |
|  |-x  | アーカイブを展開 |
|  |-t  | アーカイブの内容を表示 |
|  |-f  | アーカイブファイル名を指定 |
|  |-z  | ファイルを gzip で圧縮 |
|  |-j  | bzip2を使用 |
|  |-xf backup.tar | "backup.tar"アーカイブを解凍 |
|  |-czvf data.tar.gz /home | /homeの圧縮されたtarアーカイブを作成 |
|  |-czvf xxx.tgz file1 file2 dir1 | file1 file2 dir1をアーカイブした圧縮ファイルxxx.tgzを作成 |
|  |-tzvf xxx.tgz | 圧縮ファイルに含まれるファイル名を表示 = 展開のテスト |
|  |-xzvf xxx.tgz | 展開 |
| gunzip | data.gz | data.gzファイルを解凍 |
| zip | | ファイルの圧縮 |
|  | -r data | dataディレクトリをzip化 |
| unzip | data.zip | data.zipファイルを解凍 |
| gzip | ファイルの圧縮/解凍 |
|  | data | "data"を"data.gz"に圧縮し、元のファイルを削除 |
|  | -d file.gz | file.gzを解凍 |

## アクセス制御リスト

| コマンド | 説明 |
|----------|------|
| getfacl file | ファイルまたはディレクトリのACL権限を表示 |
| setfacl -m u:traw:r-x file | ユーザーtrawにファイルの読み取りと実行ACL権限を設定 |
| setfacl -m g:sysops:rwx file | sysopsグループにファイルの読み書き実行ACL権限を設定 |
| setfacl -x u:traw file | ユーザーtrawのACL権限を削除 |
| setfacl -x g:devops file | devopsグループのACL権限を削除 |
| setfacl -b file | すべてのACL権限を削除し、デフォルトのファイル権限を保持 |


## テキスト操作

| コマンド | オプション | 説明 |
|----------|------------|------|
| grep | | パターン検索 |
|   | -r pattern dir | ディレクトリ内で再帰的にパターンを検索 |
|   | "linux" file.txt | file.txt内で"linux"を検索 |
| tr   | 文字の変換または削除 |
|   | "a-z" "A-Z" file | 小文字を大文字に変換 |
| rev      | file.txt | file.txtの内容を逆順に表示 |
| sort     | file.txt | file.txtの内容を様々な基準でソート |
| uniq     | file.txt | file.txtから重複行を削除 |
| wdiff    | file1 file2 | 2つのファイルの単語単位の比較 |
| diff     | file1 file2 | 2つのファイルの行単位の比較 |
| awk | | テキスト処理ツール |
|   | '{print $1}' file.txt | file.txtの最初のカラムを表示 |
| sed | | ストリームエディタ |
|   | 's/cat/bat/g' file | ファイル内のすべての'cat'を'bat'に置換 |
|   | 's/old/new/g' file | ファイル内のすべての'old'を'new'に置換 |

## Linux サーバー管理者のための Linux コマンドチートシート（更新版）

| コマンド | 説明 |
|----------|------|
| rmdir | 空のディレクトリを削除 |
| mv | ファイルまたはディレクトリを移動またはリネーム |
| chmod | ファイルまたはディレクトリの権限を変更 |
| chown | ファイルまたはディレクトリの所有者を変更 |
| sudo | 昇格された権限でコマンドを実行 |
| su | ユーザーを切り替え |
| top | システムリソースの使用状況とプロセスを表示 |
| ps | アクティブなプロセスを表示 |
| kill | プロセスを終了 |
| ping | ホストへのネットワーク接続をテスト |
| ifconfig | ネットワークインターフェースを設定 |
| netstat | ネットワーク接続、ルーティングテーブル、ネットワークインターフェース統計を表示 |
| ssh | リモートサーバーに安全に接続 |
| scp | ホスト間でファイルを安全にコピー |
| tar | ファイルとディレクトリをアーカイブおよび圧縮 |
| curl | サーバーからまたはサーバーへデータを転送 |
| grep | ファイルまたは出力内のパターンを検索 |


## ChromeOSのLinux環境でのネットワークスキャンガイド

ChromeOS上でLinux環境（Crostini）を使用している場合、ネットワークスキャンを行うためのさまざまな方法があります。以下に主な方法を紹介します。

### 1. Nmapの使用

Nmapは強力なネットワークスキャナーであり、Linux環境で広く使用されています。

#### 使用方法:

ターミナルで以下のコマンドを実行して、ネットワーク内のデバイスをスキャンできます：

```bash
sudo nmap -sn 192.168.0.0/24
```

このコマンドは、指定したネットワーク範囲（例: 192.168.0.0/24）に対してホストディスカバリスキャンを行います。

### 2. arp-scanの使用

arp-scanは、ローカルネットワーク内のホストを探索するためのツールです。

#### インストールと使用方法:

ターミナルで以下のコマンドを実行します：

```bash
sudo apt-get install arp-scan
sudo arp-scan --localnet
```

これにより、ローカルネットワーク内の全てのアクティブなホストがリストアップされます。

### 3. fpingの使用

fpingは、多数のIPアドレスに対してICMPエコーリクエストを送信し、レスポンスを収集するツールです。

#### インストールと使用方法:

ターミナルで以下のコマンドを実行します：

```bash
sudo apt-get install fping
sudo fping -a -g 192.168.0.1/24
```

これにより、指定したネットワーク範囲内のアクティブなホストのIPアドレスが表示されます。

### まとめ

これらのツールを使用することで、ChromeOS上でLinux環境を通じてネットワークスキャンを実行することが可能です。必要に応じて、各ツールのオプションや詳細な設定を調整して、特定の要件に適したスキャンを行うことができます。

注意: ネットワークスキャンを行う際は、必ず適切な権限を持っていることを確認し、他人のネットワークに対して無断でスキャンを行わないようにしてください。


## 追加の有用なコマンド

| コマンド | オプション | 説明 |
|----------|------------|------|
| less || ファイルの内容をページング表示 |
| head || ファイルの先頭部分を表示 |
| tail || ファイルの末尾部分を表示 |
| find || ファイルやディレクトリを検索 |
| df | |ディスク使用量を表示 |
| du | |ディレクトリやファイルのサイズを表示 |
| free || メモリ使用量を表示 |
| uname || システム情報を表示 |
| whoami || 現在のユーザー名を表示 |
| passwd || ユーザーパスワードを変更 |
| date | |システム日時を表示または設定 |
| crontab || 定期的なジョブをスケジュール |
| wget | |ウェブからファイルをダウンロード |
| iptables ||ファイアウォールルールを設定 |
| lsof || 開いているファイルを一覧表示 |
| man |man command| コマンドのマニュアルページを表示 |
| locate | locate file | システム全体でファイルを検索 |
| whereis | whereis command | コマンドのバイナリ、ソース、マニュアルの場所を表示 |
| which | which command | コマンドの実行ファイルの場所を表示 |
| apt | | |
|  | sudo apt-get update --fix-missing | パッケージに新しいバージョンがないことを確認 |
|  | sudo apt-get install -f | パッケージマネージャに不足している依存関係や壊れているパッケージを見つけてインストール |



この更新されたチートシートは、Linux サーバー管理者にとって特に重要なコマンドに焦点を当てています。基本的なファイル操作からネットワーク管理、システムモニタリングまで、幅広いタスクをカバーしています。これらのコマンドを習得することで、効率的なサーバー管理が可能になります。

追加のヒント：

1. 多くのコマンドには、詳細な使用方法を表示する `--help` オプションがあります。
2. `man` コマンドを使用して、特定のコマンドの詳細なマニュアルページを表示できます。
3. コマンドを組み合わせたり、シェルスクリプトを作成したりすることで、複雑なタスクを自動化できます。
4. セキュリティ上の理由から、`sudo` の使用には注意が必要です。必要な場合にのみ使用してください。
5. システムの重要な変更を行う前に、必ずバックアップを作成してください。
