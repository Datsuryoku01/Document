# ncコマンド
## 接続

外部への接続:  
nc -オプション 接続先 ポート  
nc 192.168.0.10 12345  

内部へのリッスン:  
nc -l -p ポート -オプション ホスト名 ポート  
nc -l 12345(サーバー側)  

オプション:
-e prog     接続後に起動するアプリ [危険]
-g gateway  ルーティングゲートウェー指定（最大８つ）
-G num      ルーティングポインタ指定（4,8,12...）
-h          ヘルプ表示
-i secs     データ出力やポートスキャンの間隔を秒で指定
-l          リッスンモード
-n          DNSの名前解決を行わない
-o file     ファイルを16進で出力する
-p port     (リッスンモードの)ポート番号指定
-r          接続先ポートをランダムに指定する
-s addr     リッスンするIPアドレスを指定。ローカルで設定されたもの
-t          telnetプロトコルで通信する
-u          UDPモード指定
-v          情報表示モード。2回指定でより詳細になる
-w secs     タイムアウト指定
-z          ロI/Oモード（ポートスキャン時）

## 便利な使い方「ポート解放確認」

サーバーとネットワーク（ファイヤーウォール等）を準備する際に、　　
「サーバーは用意できていないけどネットワークの疎通確認をしたい」「ネットワーク接続ができない時に、どの間の疎通ができていないか切り分けたい」場合
クライアント側は大丈夫なのですが、問題はサーバー側。サービスやデーモンを立てるのって思いのほか難しい。
その問題の解決にはサーバーが完全に機能している必要はなく、目当ての通信ポートで「リッスン」（待ち受け）していればいいんです。　　

サーバー側で実行するコマンドは以下の通り。（即効!LINUX利用した例）  
** サーバー側　コマンドライン **  /nc -l -p 12345  
Find
No Results

数字はもちろんポート番号です。

対してクライアント側といえば、telnetの要領で簡単に

** クライアント側　コマンドライン **  /nc test.host.com 12345

と接続します。  
まあ、この反応を以て接続を確認するのですが、疑り深い方は、クライアント側に「HELLO」と文字を打ってみましょう。

**クライアント側　コマンドライン **   
nc test.host.com 12345
HELLO!!!!!

すると、サーバー側に文字が表示されます。
** サーバー側　コマンドライン **
nc -l -p 12345
HELLO!!!!!

サーバー側からも何か入力してみましょう。
** サーバー側　コマンドライン **
nc -l -p 12345
HELLO!!!!!
How are you?

もちろん、クライアント側に文字が表示されます。

** クライアント側　コマンドライン **
nc test.host.com 12345
HELLO!!!!!
How are you?
